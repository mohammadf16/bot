(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1687],{6297:function(e,t,r){Promise.resolve().then(r.bind(r,9600))},8755:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(2265);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1},u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:h,...f}=e;return(0,n.createElement)("svg",{ref:t,...s,width:c,height:c,stroke:r,strokeWidth:i?24*Number(o)/Number(c):o,className:a("lucide",u),...!d&&!l(f)&&{"aria-hidden":"true"},...f},[...h.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,n.forwardRef)((r,o)=>{let{className:s,...l}=r;return(0,n.createElement)(u,{ref:o,iconNode:t,className:a("lucide-".concat(c(i(e))),"lucide-".concat(e),s),...l})});return r.displayName=i(e),r}},7414:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8755).Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},9474:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8755).Z)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]])},5805:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8755).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1239:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(8755).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},257:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,n,a=e.exports={};function c(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===c||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:c}catch(e){t=c}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?s=n.concat(s):u=-1,s.length&&h())}function h(){if(!l){var e=i(d);l=!0;for(var t=s.length;t;){for(n=s,s=[];++u<t;)n&&n[u].run();u=-1,t=s.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new f(e,t)),1!==s.length||l||i(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var c=r[e]={exports:{}},o=!0;try{t[e](c,c.exports,n),o=!1}finally{o&&delete r[e]}return c.exports}n.ab="//";var a=n(229);e.exports=a}()},9600:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var n=r(7437),a=r(5805),c=r(1239),o=r(7414);let i=(0,r(8755).Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var s=r(9474),l=r(5186),u=r(2265),d=r(1837);function h(){let[e,t]=(0,u.useState)({referralCode:"",totalReferrals:0,activeReferrals:0,chancesFromReferrals:0,cashbackFromReferrals:0});(0,u.useEffect)(()=>{(async()=>{try{let e=await (0,d.Nv)("/me/referral");t(e)}catch(e){l.ZP.error(e instanceof Error?e.message:"خطا در دریافت اطلاعات زیرمجموعه")}})()},[]);let r=[{label:"تعداد زیرمجموعه ها",value:"".concat(e.totalReferrals.toLocaleString("fa-IR")," نفر"),icon:a.Z},{label:"شانس های دریافت شده",value:"".concat(e.chancesFromReferrals.toLocaleString("fa-IR")," شانس"),icon:c.Z},{label:"کش بک دریافتی",value:"".concat(e.cashbackFromReferrals.toLocaleString("fa-IR")," تومان"),icon:o.Z}];return(0,n.jsxs)("div",{className:"space-y-10 text-right",dir:"rtl",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-3xl font-black tracking-tight mb-2",children:["سیستم ",(0,n.jsx)("span",{className:"text-accent-gold",children:"زیرمجموعه گیری"})]}),(0,n.jsx)("p",{className:"text-white/40 text-sm font-bold",children:"هر زیرمجموعه جدید = ۱ شانس"})]}),(0,n.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,n.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,n.jsx)("div",{className:"bg-gradient-to-br from-[#111] to-black border border-white/5 p-8 md:p-12 rounded-[2.5rem] relative overflow-hidden",children:(0,n.jsxs)("div",{className:"relative z-10",children:[(0,n.jsx)("h2",{className:"text-3xl font-black mb-6",children:"لینک معرفی"}),(0,n.jsx)("p",{className:"text-white/60 mb-8",children:"با دعوت دوستان، شانس گردونه و امتیاز قرعه کشی می گیرید."}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,n.jsxs)("div",{className:"flex-1 bg-white/5 border border-white/10 rounded-2xl p-4 flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-xs text-white/40 font-bold",children:"کد شما"}),(0,n.jsx)("span",{className:"text-xl font-black text-white",children:e.referralCode||"-"})]}),(0,n.jsxs)("button",{onClick:()=>{let t="".concat(window.location.origin,"/register?ref=").concat(e.referralCode);navigator.clipboard.writeText(t),l.ZP.success("لینک معرفی کپی شد")},className:"bg-white text-black px-8 py-4 rounded-2xl font-black flex items-center justify-center gap-3 hover:bg-accent-gold transition-all",children:[(0,n.jsx)(i,{size:20})," کپی لینک"]})]})]})}),(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:(0,n.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/5 p-8 rounded-[2rem]",children:[(0,n.jsx)(s.Z,{className:"text-accent-gold w-10 h-10 mb-6"}),(0,n.jsx)("h3",{className:"text-xl font-bold mb-4",children:"قوانین امتیاز"}),(0,n.jsxs)("ul",{className:"space-y-3 text-sm text-white/60",children:[(0,n.jsx)("li",{children:"هر ۵ شانس = ۱ شرکت در قرعه کشی"}),(0,n.jsx)("li",{children:"هر ۲ شانس = ۱ چرخش گردونه"}),(0,n.jsx)("li",{children:"۱۰ تا ۱۰۰ زیرمجموعه: هر نفر ۲ سوت طلای آب شده"}),(0,n.jsx)("li",{children:"۱۰۰ تا ۱۰۰۰ زیرمجموعه: هر نفر ۲ شانس گردونه"})]})]})})]}),(0,n.jsx)("div",{className:"space-y-6",children:r.map((e,t)=>{let r=e.icon;return(0,n.jsxs)("div",{className:"bg-[#0A0A0A] border border-white/5 p-8 rounded-[2rem]",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center mb-6",children:(0,n.jsx)(r,{className:"text-accent-gold w-6 h-6"})}),(0,n.jsx)("p",{className:"text-white/40 text-xs font-bold uppercase mb-1",children:e.label}),(0,n.jsx)("span",{className:"text-3xl font-black",children:e.value})]},t)})})]})]})}},1837:function(e,t,r){"use strict";r.d(t,{Je:function(){return d},Nv:function(){return m},c8:function(){return p},hP:function(){return l},vD:function(){return u}});var n,a=r(257);let c=null!==(n=a.env.NEXT_PUBLIC_API_URL)&&void 0!==n?n:"http://localhost:4000/api/v1",o=a.env.NEXT_PUBLIC_API_GATEWAY_KEY,i="car_access_token",s="car_refresh_token";function l(){return localStorage.getItem(i)}function u(e){localStorage.setItem(i,e.accessToken),localStorage.setItem(s,e.refreshToken)}function d(){localStorage.removeItem(i),localStorage.removeItem(s)}async function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=new Headers(t.headers);void 0!==t.body&&null!==t.body&&n.set("Content-Type","application/json"),o&&n.set("x-api-gateway-key",o),r&&n.set("Authorization","Bearer ".concat(r));let a=await fetch("".concat(c).concat(e),{...t,headers:n});if(!a.ok){var i,s;let e=await a.json().catch(()=>({}));throw Error(null!==(s=null!==(i=e.error)&&void 0!==i?i:e.message)&&void 0!==s?s:"HTTP_".concat(a.status))}return 204===a.status?{}:await a.json()}async function f(){let e=localStorage.getItem(s);if(!e)return null;try{let t=await h("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:e})});return u(t),t.accessToken}catch(e){return d(),null}}async function m(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{auth:!0},a=null===(t=n.auth)||void 0===t||t,c=a?l():void 0;try{return await h(e,r,null!=c?c:void 0)}catch(n){if(!a)throw n;let t=await f();if(!t)throw n;return h(e,r,t)}}function p(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():"idemp-".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2))}}},function(e){e.O(0,[5186,2971,2117,1744],function(){return e(e.s=6297)}),_N_E=e.O()}]);