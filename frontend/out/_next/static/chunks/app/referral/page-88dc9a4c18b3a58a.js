(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4066],{8224:function(e,l,r){Promise.resolve().then(r.bind(r,3857))},3857:function(e,l,r){"use strict";r.r(l),r.d(l,{default:function(){return i}});var s=r(7437),d=r(2265),a=r(1837),n=r(5186);function i(){var e,l,r,i,t,c,o,h;let[u,x]=(0,d.useState)(null);return(0,d.useEffect)(()=>{(async()=>{try{let e=await (0,a.Nv)("/me/referral");x(e)}catch(e){n.ZP.error(e instanceof Error?e.message:"خطا در دریافت اطلاعات زیرمجموعه")}})()},[]),(0,s.jsx)("main",{className:"min-h-screen pt-32 pb-20",dir:"rtl",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 text-right space-y-6",children:[(0,s.jsx)("h1",{className:"text-5xl font-black",children:(0,s.jsx)("span",{className:"text-gradient",children:"زیرمجموعه گیری هوشمند 3 سطحی"})}),(0,s.jsxs)("div",{className:"card glass p-8 space-y-4",children:[(0,s.jsx)("p",{className:"text-dark-text/70",children:"سطح ۱: ۱۰٪، سطح ۲: ۳٪، سطح ۳: ۱٪ شارژ کمیسیون"}),(0,s.jsxs)("p",{className:"text-sm",children:["کد معرفی شما: ",(0,s.jsx)("b",{children:null!==(r=null==u?void 0:u.referralCode)&&void 0!==r?r:"-"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-3 text-sm",children:[(0,s.jsxs)("div",{className:"p-3 rounded-lg border border-white/10 bg-black/20",children:["کل زیرمجموعه: ",null!==(i=null==u?void 0:u.totalReferrals)&&void 0!==i?i:0]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg border border-white/10 bg-black/20",children:["مستقیم: ",null!==(t=null==u?void 0:u.depthBreakdown.level1)&&void 0!==t?t:0]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg border border-white/10 bg-black/20",children:["سطح ۲: ",null!==(c=null==u?void 0:u.depthBreakdown.level2)&&void 0!==c?c:0]}),(0,s.jsxs)("div",{className:"p-3 rounded-lg border border-white/10 bg-black/20",children:["سطح ۳: ",null!==(o=null==u?void 0:u.depthBreakdown.level3)&&void 0!==o?o:0]})]}),(0,s.jsxs)("p",{className:"text-sm",children:["درآمد کمیسیون: ",null!==(h=null==u?void 0:null===(e=u.cashbackFromReferrals)||void 0===e?void 0:e.toLocaleString("fa-IR"))&&void 0!==h?h:0," تومان"]}),(0,s.jsxs)("div",{className:"max-h-[280px] overflow-y-auto space-y-2",children:[null==u?void 0:u.referralTree.map(e=>(0,s.jsxs)("div",{className:"p-3 rounded-lg border border-white/10 bg-black/20 text-sm",children:[(0,s.jsx)("p",{children:e.email}),(0,s.jsxs)("p",{className:"text-white/60",children:["سطح: ",e.depth]})]},"".concat(e.userId,"-").concat(e.depth))),(null==u?void 0:null===(l=u.referralTree)||void 0===l?void 0:l.length)?null:(0,s.jsx)("p",{className:"text-white/60",children:"زیرمجموعه ای ثبت نشده است."})]})]})]})})}}},function(e){e.O(0,[5186,1837,2971,2117,1744],function(){return e(e.s=8224)}),_N_E=e.O()}]);