(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{6712:function(e,t,s){Promise.resolve().then(s.t.bind(s,2778,23)),Promise.resolve().then(s.bind(s,1586)),Promise.resolve().then(s.bind(s,4717)),Promise.resolve().then(s.bind(s,1192))},1586:function(e,t,s){"use strict";s.d(t,{Footer:function(){return f}});var a=s(7437),r=s(7662),l=s(7760),n=s(4743),i=s(2351),c=s(1239),o=s(4286),d=s(3041),h=s(3327),x=s(9345),u=s(7648);function f(){return(0,a.jsx)("footer",{className:"bg-dark-bg border-t border-white/5 pt-20 pb-10",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-16",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(u.default,{href:"/",className:"flex items-center gap-3 font-black text-2xl tracking-tighter",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-accent-gold rounded-xl flex items-center justify-center",children:(0,a.jsx)(r.Z,{className:"w-6 h-6 text-dark-bg"})}),(0,a.jsxs)("span",{className:"text-white",children:["CAR",(0,a.jsx)("span",{className:"text-accent-gold",children:"RAFFLE"})]})]}),(0,a.jsx)("p",{className:"text-dark-text/60 leading-relaxed text-sm",children:"بزرگترین و معتبرترین پلتفرم قرعه‌کشی خودرو در کشور با استفاده از تکنولوژی بلاک‌چین برای تضمین شفافیت ۱۰۰ درصدی نتایج."}),(0,a.jsx)("div",{className:"flex gap-4",children:[l.Z,n.Z,i.Z].map((e,t)=>(0,a.jsx)("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/5 flex items-center justify-center hover:bg-accent-gold hover:text-dark-bg transition-all",children:(0,a.jsx)(e,{className:"w-5 h-5"})},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-white font-bold text-lg mb-6 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-6 bg-accent-gold rounded-full"}),"دسترسی سریع"]}),(0,a.jsx)("ul",{className:"space-y-4",children:[{label:"قرعه‌کشی‌های فعال",href:"/raffles"},{label:"گردونه شانس روزانه",href:"/wheel"},{label:"مزایده‌های ویژه",href:"/auction"},{label:"آخرین برندگان",href:"/winners"},{label:"سوالات متداول",href:"/faq"}].map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)(u.default,{href:e.href,className:"text-dark-text/60 hover:text-accent-gold transition-colors flex items-center gap-2 group",children:[(0,a.jsx)("span",{className:"w-1 h-1 bg-dark-text/30 rounded-full group-hover:w-2 group-hover:bg-accent-gold transition-all"}),e.label]})},e.href))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-white font-bold text-lg mb-6 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-6 bg-accent-cyan rounded-full"}),"خدمات ما"]}),(0,a.jsx)("ul",{className:"space-y-4",children:[{label:"خرید اقساطی",icon:c.Z},{label:"ضمانت بازگشت وجه",icon:o.Z},{label:"پشتیبانی ۲۴/۷",icon:d.Z},{label:"جوایز ویژه اعضا",icon:h.Z}].map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center gap-3 text-dark-text/60",children:[(0,a.jsx)(e.icon,{className:"w-4 h-4 text-accent-gold"}),(0,a.jsx)("span",{className:"text-sm",children:e.label})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-white font-bold text-lg mb-6 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-6 bg-accent-gold rounded-full"}),"تماس با ما"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(x.Z,{className:"w-5 h-5 text-accent-gold"}),(0,a.jsx)("span",{className:"text-sm text-white font-bold",children:"ایمیل پشتیبانی"})]}),(0,a.jsx)("p",{className:"text-dark-text/60 text-sm",children:"support@carraffle.ir"})]}),(0,a.jsxs)("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5 text-accent-cyan"}),(0,a.jsx)("span",{className:"text-sm text-white font-bold",children:"مرکز تماس"})]}),(0,a.jsx)("p",{className:"text-dark-text/60 text-sm",children:"۰۲۱-۹۱۰۰۱۲۳۴"})]})]})]})]}),(0,a.jsxs)("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-6",children:[(0,a.jsx)("p",{className:"text-dark-text/40 text-xs",children:"\xa9 ۲۰۲۶ تمام حقوق این پلتفرم متعلق به شرکت کاررافل می‌باشد."}),(0,a.jsxs)("div",{className:"flex gap-6",children:[(0,a.jsx)(u.default,{href:"/privacy",className:"text-dark-text/40 hover:text-white text-xs transition-colors",children:"حریم خصوصی"}),(0,a.jsx)(u.default,{href:"/terms",className:"text-dark-text/40 hover:text-white text-xs transition-colors",children:"قوانین و مقررات"}),(0,a.jsx)(u.default,{href:"/sitemap",className:"text-dark-text/40 hover:text-white text-xs transition-colors",children:"نقشه سایت"})]})]})]})})}},4717:function(e,t,s){"use strict";s.d(t,{Header:function(){return m}});var a=s(7437),r=s(7648),l=s(2265),n=s(4072),i=s(9799),c=s(2369),o=s(7692),d=s(2489),h=s(8293),x=s(9376),u=s(7766),f=s(5186);function m(){let[e,t]=(0,l.useState)(!1),[s,m]=(0,l.useState)(!1),b=(0,x.usePathname)(),{user:g,isAuthenticated:p,logout:j}=(0,u.a)(),v=(null==b?void 0:b.startsWith("/dashboard"))||(null==b?void 0:b.startsWith("/admin"));if((0,l.useEffect)(()=>{let e=()=>m(window.scrollY>20);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),v)return null;let w=[{label:"خانه",href:"/"},{label:"فروشگاه خودرو",href:"/cars"},{label:"قرعه کشی ها",href:"/raffles"},{label:"کمپین ها",href:"/engagement"},{label:"گردونه شانس",href:"/wheel"},{label:"ماشین اسلاید",href:"/slide-game"},{label:"بازی اسلاید",href:"/slide-arena"},{label:"مزایده ها",href:"/auction"},{label:"درباره ما",href:"/about"}];return(0,a.jsxs)("header",{className:"fixed top-0 left-0 right-0 z-[100] transition-all duration-500 ".concat(s?"bg-black/80 backdrop-blur-xl border-b border-white/5 py-3":"bg-transparent py-6"),children:[(0,a.jsxs)("nav",{className:"max-w-[1800px] mx-auto px-6 md:px-12 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"hidden lg:flex items-center gap-8 flex-1",children:w.map(e=>(0,a.jsx)(r.default,{href:e.href,className:"text-sm font-medium tracking-widest uppercase transition-all duration-300 hover:text-[#D4AF37] ".concat(b===e.href?"text-[#D4AF37]":"text-white/70"),children:e.label},e.href))}),(0,a.jsxs)(r.default,{href:"/",className:"flex flex-col items-center group relative",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-3xl md:text-4xl font-black tracking-[0.2em] text-white",children:["LUX",(0,a.jsx)("span",{className:"text-[#D4AF37]",children:"."})]}),(0,a.jsx)("div",{className:"h-[1px] w-0 group-hover:w-full bg-[#D4AF37] transition-all duration-500 absolute -bottom-1"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-4 md:gap-8 flex-1",children:[(0,a.jsxs)(r.default,{href:p?(null==g?void 0:g.role)==="admin"?"/admin/dashboard":"/dashboard":"/login",className:"flex items-center gap-2 group",children:[(0,a.jsx)("span",{className:"hidden md:block text-[10px] font-bold tracking-[0.2em] uppercase text-white/40 group-hover:text-[#D4AF37] transition-colors",children:p?"حساب کاربری":"ورود / ثبت نام"}),(0,a.jsx)("div",{className:"w-10 h-10 rounded-full border border-white/10 flex items-center justify-center group-hover:border-[#D4AF37]/50 group-hover:bg-[#D4AF37]/5 transition-all duration-500",children:(0,a.jsx)(c.Z,{size:18,className:"text-white/70 group-hover:text-[#D4AF37] transition-colors"})})]}),p&&(0,a.jsxs)("button",{type:"button",onClick:async()=>{await j(),f.ZP.success("از حساب خارج شدید")},className:"hidden md:inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:border-rose-400/40 text-xs",children:[(0,a.jsx)(o.Z,{size:14}),"خروج"]}),(0,a.jsx)("button",{className:"lg:hidden w-10 h-10 flex items-center justify-center rounded-xl bg-white/5 border border-white/10",onClick:()=>t(!e),type:"button",children:e?(0,a.jsx)(d.Z,{size:20}):(0,a.jsx)(h.Z,{size:20})})]})]}),(0,a.jsx)(i.M,{children:e&&(0,a.jsx)(n.E.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[110] bg-black lg:hidden",children:(0,a.jsxs)("div",{className:"flex flex-col h-full p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-16",children:[(0,a.jsxs)("div",{className:"text-2xl font-black tracking-widest",children:["LUX",(0,a.jsx)("span",{className:"text-[#D4AF37]",children:"."})]}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"p-2 bg-white/5 rounded-lg",type:"button",children:(0,a.jsx)(d.Z,{size:24})})]}),(0,a.jsx)("div",{className:"flex flex-col gap-6",children:w.map((e,s)=>(0,a.jsx)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*s},children:(0,a.jsx)(r.default,{href:e.href,onClick:()=>t(!1),className:"text-4xl font-bold hover:text-[#D4AF37] transition-colors",children:e.label})},e.href))}),(0,a.jsxs)("div",{className:"mt-auto pt-8 border-t border-white/10 flex flex-col gap-4",children:[(0,a.jsxs)(r.default,{href:p?(null==g?void 0:g.role)==="admin"?"/admin/dashboard":"/dashboard":"/login",onClick:()=>t(!1),className:"flex items-center justify-center gap-3 py-4 rounded-2xl bg-[#D4AF37] text-black font-black",children:[(0,a.jsx)(c.Z,{size:20}),p?"پنل کاربری":"ورود / ثبت نام"]}),p&&(0,a.jsxs)("button",{type:"button",onClick:async()=>{await j(),t(!1),f.ZP.success("از حساب خارج شدید")},className:"flex items-center justify-center gap-3 py-4 rounded-2xl bg-white/5 border border-white/10 text-white font-bold",children:[(0,a.jsx)(o.Z,{size:18}),"خروج"]})]})]})})})]})}},1192:function(e,t,s){"use strict";s.d(t,{Providers:function(){return n}});var a=s(7437),r=s(5186),l=s(7766);function n(e){let{children:t}=e;return(0,a.jsxs)(l.H,{children:[t,(0,a.jsx)(r.x7,{position:"top-center",toastOptions:{duration:4e3,style:{background:"hsl(var(--dark-surface))",color:"hsl(var(--dark-text))",border:"1px solid hsl(var(--dark-border))"}}})]})}},1837:function(e,t,s){"use strict";s.d(t,{Je:function(){return h},Nv:function(){return f},c8:function(){return m},hP:function(){return o},vD:function(){return d}});var a,r=s(257);let l=null!==(a=r.env.NEXT_PUBLIC_API_URL)&&void 0!==a?a:"http://localhost:4000/api/v1",n=r.env.NEXT_PUBLIC_API_GATEWAY_KEY,i="car_access_token",c="car_refresh_token";function o(){return localStorage.getItem(i)}function d(e){localStorage.setItem(i,e.accessToken),localStorage.setItem(c,e.refreshToken)}function h(){localStorage.removeItem(i),localStorage.removeItem(c)}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,a=new Headers(t.headers);void 0!==t.body&&null!==t.body&&a.set("Content-Type","application/json"),n&&a.set("x-api-gateway-key",n),s&&a.set("Authorization","Bearer ".concat(s));let r=await fetch("".concat(l).concat(e),{...t,headers:a});if(!r.ok){var i,c;let e=await r.json().catch(()=>({}));throw Error(null!==(c=null!==(i=e.error)&&void 0!==i?i:e.message)&&void 0!==c?c:"HTTP_".concat(r.status))}return 204===r.status?{}:await r.json()}async function u(){let e=localStorage.getItem(c);if(!e)return null;try{let t=await x("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:e})});return d(t),t.accessToken}catch(e){return h(),null}}async function f(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{auth:!0},r=null===(t=a.auth)||void 0===t||t,l=r?o():void 0;try{return await x(e,s,null!=l?l:void 0)}catch(a){if(!r)throw a;let t=await u();if(!t)throw a;return x(e,s,t)}}function m(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():"idemp-".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2))}},7766:function(e,t,s){"use strict";s.d(t,{H:function(){return c},a:function(){return o}});var a=s(7437),r=s(2265),l=s(1837);let n=(0,r.createContext)(null);async function i(){return(0,l.Nv)("/me",{method:"GET"},{auth:!0})}function c(e){let{children:t}=e,[s,c]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),h=(0,r.useCallback)(async()=>{c(await i())},[]);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await i();e&&c(t)}catch(t){e&&c(null)}finally{e&&d(!1)}})(),()=>{e=!1}},[]);let x=(0,r.useCallback)(async e=>{let{email:t,password:s}=e,a=await (0,l.Nv)("/auth/login",{method:"POST",body:JSON.stringify({email:t,password:s})},{auth:!1});return(0,l.vD)({accessToken:a.accessToken,refreshToken:a.refreshToken}),c(a.user),a.user},[]),u=(0,r.useCallback)(async e=>{let{email:t,password:s,referralCode:a}=e;await (0,l.Nv)("/auth/register",{method:"POST",body:JSON.stringify({email:t,password:s,referralCode:a})},{auth:!1})},[]),f=(0,r.useCallback)(async()=>{try{let e=localStorage.getItem("car_refresh_token");e&&await (0,l.Nv)("/auth/logout",{method:"POST",body:JSON.stringify({refreshToken:e})})}catch(e){}finally{(0,l.Je)(),c(null)}},[]),m=(0,r.useMemo)(()=>({user:s,isLoading:o,isAuthenticated:!!s,login:x,register:u,logout:f,refreshMe:h}),[s,o,x,u,f,h]);return(0,a.jsx)(n.Provider,{value:m,children:t})}function o(){let e=(0,r.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},2778:function(){}},function(e){e.O(0,[2461,5186,4072,2972,9814,2971,2117,1744],function(){return e(e.s=6712)}),_N_E=e.O()}]);